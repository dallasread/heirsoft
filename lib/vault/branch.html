<li class="branch {{selected === branch ? 'active' : ''}} {{#if !selected.children.length}}{{branch === selected.parent ? ' parent-of-active' : ''}}{{/if}} {{branch.children ? ' has-children' : ''}}">
    <a href="#" data-go-branch branch:{{branch}}>
        <span>
            {{branch.path || 'Untitled'}}
        </span>
    </a>

    {{#if branch.children}}
        {{#if tree.isWritable}}
            <div class="meta">
                <button class="button-small" data-add-child parent:{{branch}}>
                    + File
                </button>

                <button class="button-small" data-add-child data-type="folder" parent:{{branch}}>
                    + Folder
                </button>
            </div>
        {{/if}}

        <ul>
            {{#each @alpha(branch.children)}}
                {{>branch branch=this tree=tree}}
            {{/each}}
        </ul>
    {{/if}}
</li>
